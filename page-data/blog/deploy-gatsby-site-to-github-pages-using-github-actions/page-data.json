{"componentChunkName":"component---node-modules-gatsby-theme-ghost-casper-src-templates-blog-post-js","path":"/blog/deploy-gatsby-site-to-github-pages-using-github-actions/","result":{"data":{"site":{"siteMetadata":{"title":"GeeksCreed","siteUrl":"https://geekscreed.com","config":{"disqus":"geekscreed"},"social":{"twitter":"g33kscr33d"}}},"relatedPosts":{"totalCount":2,"edges":[{"node":{"frontmatter":{"title":"Deploy Gatsby Site to GitHub Pages using GitHub Actions"},"fields":{"slug":"/blog/deploy-gatsby-site-to-github-pages-using-github-actions/"}}},{"node":{"frontmatter":{"title":"How to add Draft posts Support to Gatsby blog"},"fields":{"slug":"/blog/draft-post-support-on-gatsby-blog/"}}}]},"previousPost":{"excerpt":"Git is the most popular version control system used to manage projects with multiple people working on it.  It’s distributive nature enables…","fields":{"slug":"/blog/git-share-uncommited-changes/"},"frontmatter":{"date":"29 December, 2018","title":"Git - Share Uncommitted Changes without Pushing","author":{"id":"sasivarnan","name":"Sasivarnan R","profileImageFile":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAf/EABYBAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABo53EtYiHIqLxOf/EABsQAAMBAQADAAAAAAAAAAAAAAECAwAREiIx/9oACAEBAAEFAnp4BaLTeozjqS+kd1qnJVlM6Fk//8QAFhEBAQEAAAAAAAAAAAAAAAAAEAER/9oACAEDAQE/AcIf/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EAB0QAAIBBAMAAAAAAAAAAAAAAAABEQIQITFBUWH/2gAIAQEABj8Ckxvp28Rqzp4MEuGf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARIUFRMZH/2gAIAQEAAT8hykYcNi0HYswDV1zF8EsrZ9mi0nkWekOCnUn/2gAMAwEAAgADAAAAEPfI/P/EABcRAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQMBAT8QKFeJjq7/xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAECAQE/EHUIJYNU/8QAHhAAAgICAgMAAAAAAAAAAAAAAREAITFxQVFhgaH/2gAIAQEAAT8QvNDVHPuEFJRH3zDInTdAmF5YBNLcQtiaE2BCBBWoJaNZE77iOVSNlRwOrJU//9k=","width":30,"height":30,"src":"/static/b684089c384f1eb06f30c4fa2d539019/cc786/5305600.jpg","srcSet":"/static/b684089c384f1eb06f30c4fa2d539019/cc786/5305600.jpg 1x,\n/static/b684089c384f1eb06f30c4fa2d539019/06d5e/5305600.jpg 1.5x,\n/static/b684089c384f1eb06f30c4fa2d539019/c28c8/5305600.jpg 2x"}}}},"tags":["git"],"featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDAf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGuwcKowb//xAAZEAEAAwEBAAAAAAAAAAAAAAACAAEDESH/2gAIAQEAAQUCYC2rMhHPylwm5Qoz/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABURAQEAAAAAAAAAAAAAAAAAABEA/9oACAECAQE/AUm//8QAHRAAAQQCAwAAAAAAAAAAAAAAAAECESFBYRIiMf/aAAgBAQAGPwJG8bTMnlu2X22TCSgrcFH/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhQVGhwfD/2gAIAQEAAT8h7RQBPECmDdp8QW2jwalCKjGWKhT3DKaHU//aAAwDAQACAAMAAAAQ3D//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QNkaL/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxB20cM//8QAHRABAAIDAAMBAAAAAAAAAAAAAQARITFBUWGBwf/aAAgBAQABPxB2Cqgg7zs6lpTEFghzFdMAgMtGPh+zXJrjYa8+5djewrL1bGTO3R1gn//Z","aspectRatio":1.714898177920686,"src":"/static/cb97ce812283927f432edaf3ae1e421f/0e329/share-doc.jpg","srcSet":"/static/cb97ce812283927f432edaf3ae1e421f/2f037/share-doc.jpg 930w,\n/static/cb97ce812283927f432edaf3ae1e421f/0e329/share-doc.jpg 1600w","sizes":"(max-width: 1600px) 100vw, 1600px"}}}},"timeToRead":1},"nextPost":null,"post":{"id":"9211ed0c-988b-502a-9af0-d05599bb117b","excerpt":"We are seeing an increase in the popularity of JAMStack. Gatsby is one of the popular JAMStack frameworks. There are a lot of tools and…","html":"<p>We are seeing an increase in the popularity of <a href=\"https://jamstack.org/\">JAMStack</a>. <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> is one of the popular JAMStack frameworks.</p>\n<p>There are a lot of tools and services available to host a static site build by Gatsby. <a href=\"https://pages.github.com/\">GitHub Pages</a>, a free static site hosting service by GitHub, is one of them.</p>\n<p>In this article, we will see how to build and deploy your existing Gatsby site using <a href=\"https://github.com/features/actions\">GitHub Actions</a> on every push to GitHub repo where your site is stored.</p>\n<ul>\n<li>\n<p>In your <code class=\"language-text\">package.json</code> file, add a build script pointing to <code class=\"language-text\">gatsby build</code> (Most starters will already have it).</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n<span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>Create a GitHub access token by following the steps over <a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\">here</a>. Please note that the token must be generated with repo permissions.</li>\n<li>Open your GitHub repo settings, and go to the <code class=\"language-text\">Secrets</code> section. Click on <code class=\"language-text\">Add a new secret</code>. Fill <code class=\"language-text\">ACCESS_TOKEN</code> in the <code class=\"language-text\">Name</code> field and fill your generated access token from the previous step in the <code class=\"language-text\">Value</code> field. Click on the <code class=\"language-text\">Add secret</code> button.</li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/893421f26451f5a46182ed58fe6fdc60/87717/GitHub-Add_a_new_secret_form.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.20689655172414%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABCklEQVQoz6WSPU/DMBCG7/+LhY2lAyMDv4G1KwOIhQ8pRbSNYjtxSuKve4ndUBWIUwGWHvskn967s19quoBt47FWBqJ1YGaEEAZ4hpCFykqiFDUCAM/DBk6iOcApKbtIa42iWGG92WBbljDWwRi7J8YT8Cg6VZDa3Q6NbmFTst0njsQR/AQ80yUJKVGsXgdRDalqVEJCDMQzFnDew7mv2BkodiZVAyHrRCXUGCt0fX7sHBRVnT8eiQ/YE938ZBScq3jq/nseGWfxbgw6aw4X/4Fw9GHsgd7+/t0+6Qer0bK6xcXzFRYv13jURfJL/FmfsUyOaLHoALp5W+LsboHz+0s8qKfUaeCAv64P8barOrPrKJgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Add a new secret form\"\n        title=\"GitHub Add a new secret form\"\n        src=\"/static/893421f26451f5a46182ed58fe6fdc60/e2bc6/GitHub-Add_a_new_secret_form.png\"\n        srcset=\"/static/893421f26451f5a46182ed58fe6fdc60/1b061/GitHub-Add_a_new_secret_form.png 210w,\n/static/893421f26451f5a46182ed58fe6fdc60/00b91/GitHub-Add_a_new_secret_form.png 420w,\n/static/893421f26451f5a46182ed58fe6fdc60/e2bc6/GitHub-Add_a_new_secret_form.png 840w,\n/static/893421f26451f5a46182ed58fe6fdc60/48bb0/GitHub-Add_a_new_secret_form.png 1260w,\n/static/893421f26451f5a46182ed58fe6fdc60/87717/GitHub-Add_a_new_secret_form.png 1450w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">GitHub Add a new secret form</figcaption>\n  </figure></p>\n<ul>\n<li>\n<p>Now, create a yml file in following path <code class=\"language-text\">.github/workflows/deploy-on-push.yml</code> and paste the following contents to it.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Build and Deploy to GitHub Pages on Push\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> master\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n  <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@master\n\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build and Deploy\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> JamesIves/github<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>deploy<span class=\"token punctuation\">-</span>action@master\n      <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ACCESS_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">BRANCH</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n        <span class=\"token key atrule\">FOLDER</span><span class=\"token punctuation\">:</span> public\n        <span class=\"token key atrule\">BUILD_SCRIPT</span><span class=\"token punctuation\">:</span> yarn &amp;&amp; yarn run build</code></pre></div>\n</li>\n<li>Commit your changes and push them to your GitHub repo.</li>\n</ul>\n<p>This GitHub action will trigger if any push happened to master, spawns a ubuntu instance and check out the repo. Then it will do <code class=\"language-text\">yarn</code> and <code class=\"language-text\">yarn build</code>, which will generate the output to <code class=\"language-text\">public</code> directory. The contents of the public folder will be deployed to <code class=\"language-text\">gh-pages</code> branch.</p>\n<p>Now on every push to your repo will build your site and deploy it to GitHub pages.</p>\n<p>I hope this helped you to set up the deployment of Gatsby site to GitHub Pages using GitHub actions. Feel free to ask anything around this in the comments section below.</p>","frontmatter":{"title":"Deploy Gatsby Site to GitHub Pages using GitHub Actions","date":"03 December 2019","tags":["gatsby","web-dev","github"],"featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUBAgT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAASVt7z2i8P/EABkQAQACAwAAAAAAAAAAAAAAAAEAAhASIf/aAAgBAQABBQIak2pOMM//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwGq/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhABAQEAAAAAAAAAAAAAAAAAMQAg/9oACAEBAAY/Amc//8QAGRABAQEBAQEAAAAAAAAAAAAAAQAhMRFB/9oACAEBAAE/IcBAztnL3kk75OPb/9oADAMBAAIAAwAAABBwH//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQMBAT8QgYn/xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPxCn/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIXFRkf/aAAgBAQABPxAuhC0vfkpdK2pbVANWMZNY7rd8jaBB2f/Z","aspectRatio":1.60481444332999,"src":"/static/7121a6d9018b45a47f522869e919e4cf/06655/ship-it.jpg","srcSet":"/static/7121a6d9018b45a47f522869e919e4cf/25252/ship-it.jpg 400w,\n/static/7121a6d9018b45a47f522869e919e4cf/2f1b1/ship-it.jpg 800w,\n/static/7121a6d9018b45a47f522869e919e4cf/06655/ship-it.jpg 1600w","sizes":"(max-width: 1600px) 100vw, 1600px"}}},"author":{"id":"sasivarnan","name":"Sasivarnan R","bio":"Software Engineer. Tech Enthusiast. Loves coding 💻 and music 🎼.","location":"Karur, India","facebook":"iamsasivarnan","twitter":"iamsasivarnan","profileImageFile":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAf/EABYBAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABo53EtYiHIqLxOf/EABsQAAMBAQADAAAAAAAAAAAAAAECAwAREiIx/9oACAEBAAEFAnp4BaLTeozjqS+kd1qnJVlM6Fk//8QAFhEBAQEAAAAAAAAAAAAAAAAAEAER/9oACAEDAQE/AcIf/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EAB0QAAIBBAMAAAAAAAAAAAAAAAABEQIQITFBUWH/2gAIAQEABj8Ckxvp28Rqzp4MEuGf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARIUFRMZH/2gAIAQEAAT8hykYcNi0HYswDV1zF8EsrZ9mi0nkWekOCnUn/2gAMAwEAAgADAAAAEPfI/P/EABcRAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQMBAT8QKFeJjq7/xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAECAQE/EHUIJYNU/8QAHhAAAgICAgMAAAAAAAAAAAAAAREAITFxQVFhgaH/2gAIAQEAAT8QvNDVHPuEFJRH3zDInTdAmF5YBNLcQtiaE2BCBBWoJaNZE77iOVSNlRwOrJU//9k=","width":60,"height":60,"src":"/static/b684089c384f1eb06f30c4fa2d539019/c28c8/5305600.jpg","srcSet":"/static/b684089c384f1eb06f30c4fa2d539019/c28c8/5305600.jpg 1x,\n/static/b684089c384f1eb06f30c4fa2d539019/8bc16/5305600.jpg 1.5x,\n/static/b684089c384f1eb06f30c4fa2d539019/b2712/5305600.jpg 2x"}}},"website":"https://sasivarnan.github.io"}},"fields":{"slug":"/blog/deploy-gatsby-site-to-github-pages-using-github-actions/"}}},"pageContext":{"slug":"/blog/deploy-gatsby-site-to-github-pages-using-github-actions/","primaryTag":"gatsby","previous":"/blog/git-share-uncommited-changes/","next":""}}}