{"componentChunkName":"component---node-modules-gatsby-theme-ghost-casper-src-templates-blog-post-js","path":"/blog/draft-post-support-on-gatsby-blog/","result":{"data":{"site":{"siteMetadata":{"title":"GeeksCreed","siteUrl":"https://geekscreed.com","config":{"disqus":"geekscreed"},"social":{"twitter":"g33kscr33d"}}},"relatedPosts":{"totalCount":2,"edges":[{"node":{"frontmatter":{"title":"Deploy Gatsby Site to GitHub Pages using GitHub Actions"},"fields":{"slug":"/blog/deploy-gatsby-site-to-github-pages-using-github-actions/"}}},{"node":{"frontmatter":{"title":"How to add Draft posts Support to Gatsby blog"},"fields":{"slug":"/blog/draft-post-support-on-gatsby-blog/"}}}]},"previousPost":{"excerpt":"Hello folks.  In this article, I am gonna share why we should stop building custom webpack config and instead use create-react-app toâ€¦","fields":{"slug":"/blog/use-create-react-app-to-scaffold-next-react-app/"},"frontmatter":{"date":"12 December, 2018","title":"Why you should use create-react-app to Scaffold your Next React App?","author":{"id":"sasivarnan","name":"Sasivarnan R","profileImageFile":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAf/EABYBAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABo53EtYiHIqLxOf/EABsQAAMBAQADAAAAAAAAAAAAAAECAwAREiIx/9oACAEBAAEFAnp4BaLTeozjqS+kd1qnJVlM6Fk//8QAFhEBAQEAAAAAAAAAAAAAAAAAEAER/9oACAEDAQE/AcIf/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EAB0QAAIBBAMAAAAAAAAAAAAAAAABEQIQITFBUWH/2gAIAQEABj8Ckxvp28Rqzp4MEuGf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARIUFRMZH/2gAIAQEAAT8hykYcNi0HYswDV1zF8EsrZ9mi0nkWekOCnUn/2gAMAwEAAgADAAAAEPfI/P/EABcRAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQMBAT8QKFeJjq7/xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAECAQE/EHUIJYNU/8QAHhAAAgICAgMAAAAAAAAAAAAAAREAITFxQVFhgaH/2gAIAQEAAT8QvNDVHPuEFJRH3zDInTdAmF5YBNLcQtiaE2BCBBWoJaNZE77iOVSNlRwOrJU//9k=","width":30,"height":30,"src":"/static/b684089c384f1eb06f30c4fa2d539019/cc786/5305600.jpg","srcSet":"/static/b684089c384f1eb06f30c4fa2d539019/cc786/5305600.jpg 1x,\n/static/b684089c384f1eb06f30c4fa2d539019/06d5e/5305600.jpg 1.5x,\n/static/b684089c384f1eb06f30c4fa2d539019/c28c8/5305600.jpg 2x"}}}},"tags":["react","web-dev","webpack"],"featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB7S5HDUZI/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQMAAhESMf/aAAgBAQABBQKXYF1ByAGGNpsoc//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAgMAAAAAAAAAAAAAAAAAARARM1Gh/9oACAEBAAY/Ai3ssycKbj//xAAbEAADAQEAAwAAAAAAAAAAAAAAAREhQTFRcf/aAAgBAQABPyFrx9IPcxhPhq+xXyZrT1WdMIf/2gAMAwEAAgADAAAAEOPf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxCLoz//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EG8Kf//EABwQAQADAAIDAAAAAAAAAAAAAAEAESExUXGB0f/aAAgBAQABPxBnwh8h6C4RYBYDZwbi8P2AlxYxfuNFa0BbP//Z","aspectRatio":1.499531396438613,"src":"/static/5dd2d2fd5d249486989b97a6ceab8c5a/0e329/react-code-macbook.jpg","srcSet":"/static/5dd2d2fd5d249486989b97a6ceab8c5a/2f037/react-code-macbook.jpg 930w,\n/static/5dd2d2fd5d249486989b97a6ceab8c5a/0e329/react-code-macbook.jpg 1600w","sizes":"(max-width: 1600px) 100vw, 1600px"}}}},"timeToRead":5},"nextPost":{"excerpt":"Git is the most popular version control system used to manage projects with multiple people working on it.  Itâ€™s distributive nature enablesâ€¦","fields":{"slug":"/blog/git-share-uncommited-changes/"},"frontmatter":{"date":"29 December, 2018","title":"Git - Share Uncommitted Changes without Pushing","author":{"id":"sasivarnan","name":"Sasivarnan R","profileImageFile":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAf/EABYBAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABo53EtYiHIqLxOf/EABsQAAMBAQADAAAAAAAAAAAAAAECAwAREiIx/9oACAEBAAEFAnp4BaLTeozjqS+kd1qnJVlM6Fk//8QAFhEBAQEAAAAAAAAAAAAAAAAAEAER/9oACAEDAQE/AcIf/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EAB0QAAIBBAMAAAAAAAAAAAAAAAABEQIQITFBUWH/2gAIAQEABj8Ckxvp28Rqzp4MEuGf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARIUFRMZH/2gAIAQEAAT8hykYcNi0HYswDV1zF8EsrZ9mi0nkWekOCnUn/2gAMAwEAAgADAAAAEPfI/P/EABcRAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQMBAT8QKFeJjq7/xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAECAQE/EHUIJYNU/8QAHhAAAgICAgMAAAAAAAAAAAAAAREAITFxQVFhgaH/2gAIAQEAAT8QvNDVHPuEFJRH3zDInTdAmF5YBNLcQtiaE2BCBBWoJaNZE77iOVSNlRwOrJU//9k=","width":30,"height":30,"src":"/static/b684089c384f1eb06f30c4fa2d539019/cc786/5305600.jpg","srcSet":"/static/b684089c384f1eb06f30c4fa2d539019/cc786/5305600.jpg 1x,\n/static/b684089c384f1eb06f30c4fa2d539019/06d5e/5305600.jpg 1.5x,\n/static/b684089c384f1eb06f30c4fa2d539019/c28c8/5305600.jpg 2x"}}}},"tags":["git"],"featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDAf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGuwcKowb//xAAZEAEAAwEBAAAAAAAAAAAAAAACAAEDESH/2gAIAQEAAQUCYC2rMhHPylwm5Qoz/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABURAQEAAAAAAAAAAAAAAAAAABEA/9oACAECAQE/AUm//8QAHRAAAQQCAwAAAAAAAAAAAAAAAAECESFBYRIiMf/aAAgBAQAGPwJG8bTMnlu2X22TCSgrcFH/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhQVGhwfD/2gAIAQEAAT8h7RQBPECmDdp8QW2jwalCKjGWKhT3DKaHU//aAAwDAQACAAMAAAAQ3D//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QNkaL/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxB20cM//8QAHRABAAIDAAMBAAAAAAAAAAAAAQARITFBUWGBwf/aAAgBAQABPxB2Cqgg7zs6lpTEFghzFdMAgMtGPh+zXJrjYa8+5djewrL1bGTO3R1gn//Z","aspectRatio":1.714898177920686,"src":"/static/cb97ce812283927f432edaf3ae1e421f/0e329/share-doc.jpg","srcSet":"/static/cb97ce812283927f432edaf3ae1e421f/2f037/share-doc.jpg 930w,\n/static/cb97ce812283927f432edaf3ae1e421f/0e329/share-doc.jpg 1600w","sizes":"(max-width: 1600px) 100vw, 1600px"}}}},"timeToRead":1},"post":{"id":"efff7b4c-59a2-5c86-977f-55e9a2985412","excerpt":"Ever encountered a situation where you need to skip some unfinished, unpolished posts while deploying your Gatsby blog? Gatsby is awesomeâ€¦","html":"<p>Ever encountered a situation where you need to skip some unfinished, unpolished posts while deploying your Gatsby blog?</p>\n<p><a href=\"/tag/gatsby\">Gatsby</a> is awesome ðŸ’Ÿ.</p>\n<p>Using modern web technologies, it takes care of a lot of optimizations out of the box.</p>\n<p>Unlike traditional CMS like <code class=\"language-text\">WordPress</code> which gives a lot of features out of the box, in Gatsby, we need to hand pick the features that we need for our blog and build it by ourselves. Itâ€™s not bad. Itâ€™s cool ðŸ˜Ž.</p>\n<blockquote>\n<p>With great power comes great responsibility.</p>\n</blockquote>\n<p>As we have the complete control over adding features to Gatsby, there are lots of ways to achieve a single feature.</p>\n<p>In this article, I am gonna walk us through a simpler way to add support for draft posts to your Gatsby blog.</p>\n<p>Letâ€™s enhance our blog powered by <code class=\"language-text\">markdown</code> files to skip all the posts which are marked as <code class=\"language-text\">draft</code> in itâ€™s <code class=\"language-text\">frontmatter</code> while building the site.</p>\n<p>First of all, pick your first published post and add <code class=\"language-text\">draft: false</code>. This will make gatsby to create the <code class=\"language-text\">graphQL</code> schema for <code class=\"language-text\">markdownRemark</code> with <code class=\"language-text\">draft</code> field in it, which is needed in while querying.</p>\n<blockquote>\n<p><strong>Note:</strong> Gatsby infers the schema during the initial load of the development server. Hence you need to restart the gatsby development server in order to add <code class=\"language-text\">drafts</code> property to the gatsby schema.</p>\n</blockquote>\n<p>Add the following filter in every page where you are querying <code class=\"language-text\">allMarkdownRemark</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\">    ...\n    allMarkdownRemark(\n</span><span class=\"token deleted-sign deleted\">-      sort: { fields: [frontmatter___date], order: DESC }\n</span><span class=\"token inserted-sign inserted\">+      sort: { fields: [frontmatter___date], order: DESC },\n+      filter: {frontmatter: {draft: {ne: true}}}\n</span><span class=\"token unchanged\">    ) {\n    ...</span></code></pre></div>\n<p>Next, add the following change in the graphql query of <code class=\"language-text\">createPages</code> method in <code class=\"language-text\">gatsby-node.js</code>. It will create the <code class=\"language-text\">draft</code> posts during <code class=\"language-text\">development</code> phase but skips during the <code class=\"language-text\">production</code> phase.</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">...\nresolve(\n<span class=\"token unchanged\">  graphql(\n    `{\n</span><span class=\"token deleted-sign deleted\">-      allMarkdownRemark(sort: {fields: [frontmatter___date], order: DESC}, limit: 1000) {\n</span><span class=\"token inserted-sign inserted\">+      allMarkdownRemark(\n+       sort: {fields: [frontmatter___date], order: DESC},\n+         ${\n+           process.env.NODE_ENV === 'production' ?\n+           'filter: {frontmatter: {draft: {ne: true}}}' :\n+           ''\n+         }\n+         limit: 1000\n+      ) {\n</span><span class=\"token unchanged\">       edges {\n        ...</span></code></pre></div>\n<p>Now in <code class=\"language-text\">gatsby-config.js</code> file, make the following change to skip draft posts while generating the RSS feed.</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">...\n<span class=\"token deleted-sign deleted\">-  `gatsby-plugin-feed`,\n</span><span class=\"token inserted-sign inserted\">+  {\n+     resolve: `gatsby-plugin-feed`,\n+     options: {\n+       feeds: [\n+         {\n+           query: `\n+           {\n+             allMarkdownRemark(\n+               limit: 1000,\n+               sort: {order: DESC, fields: [frontmatter___date]},\n+               filter: {frontmatter: {draft: {ne: true}}}\n+             ) {\n+               edges {\n+                 node {\n+                   excerpt\n+                   html\n+                   fields {\n+                     slug\n+                   }\n+                   frontmatter {\n+                     title\n+                     date\n+                   }\n+                 }\n+               }\n+             }\n+           }\n+           `,\n+           output: `rss.xml`\n+         },\n+       ]\n+     }\n+ },\n</span>...</code></pre></div>\n<p>Thatâ€™s it. Now your blog has support for draft posts. Any post which is marked as <code class=\"language-text\">draft: true</code> in its front matter will be skipped during the build time and available during the development time.</p>\n<p>I havenâ€™t covered every case. But this is applicable to most of the cases.</p>\n<p>Once check the list of plugins you use in your <code class=\"language-text\">gatsby-config.js</code> file. You might be using some other plugins like <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-feed-generator/\">gatsby-plugin-feed-generator</a>. You would need to configure itâ€™s graphql query accordingly.</p>\n<p>Hope I have helped you in adding drafts feature to your Gatsby blog with a minimal effort.</p>\n<p>Did this post help you to achieve it or found it complicated?</p>\n<p>Feel free to share your thoughts in the comments section.</p>","frontmatter":{"title":"How to add Draft posts Support to Gatsby blog","date":"16 December 2018","tags":["gatsby","web-dev","graphql"],"featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwQA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAbDJBi1Gmv/EABkQAAIDAQAAAAAAAAAAAAAAAAECAAMSEf/aAAgBAQABBQIji6WWX8dGJhzMif/EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAEBAAEFAAAAAAAAAAAAAAABABEhMTJBUf/aAAgBAQAGPwITu0ZAs3Az6W1//8QAGxABAAICAwAAAAAAAAAAAAAAAQARIUExUWH/2gAIAQEAAT8hvZbAxnXqOQoewyutMSHAiuCBlUxP/9oADAMBAAIAAwAAABAg/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAAAASH/2gAIAQMBAT8QsNf/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/ELhj/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAIXHw/9oACAEBAAE/EKq8CIcZlaJFEW/e7gQAVdxGQKyEcUVqCi8cGriCnd//2Q==","aspectRatio":1.5444015444015444,"src":"/static/adb9176d1cd50c2a15ff91bc7ee099d2/06655/drafts.jpg","srcSet":"/static/adb9176d1cd50c2a15ff91bc7ee099d2/25252/drafts.jpg 400w,\n/static/adb9176d1cd50c2a15ff91bc7ee099d2/2f1b1/drafts.jpg 800w,\n/static/adb9176d1cd50c2a15ff91bc7ee099d2/06655/drafts.jpg 1600w","sizes":"(max-width: 1600px) 100vw, 1600px"}}},"author":{"id":"sasivarnan","name":"Sasivarnan R","bio":"Software Engineer. Tech Enthusiast. Loves coding ðŸ’» and music ðŸŽ¼.","location":"Karur, India","facebook":"iamsasivarnan","twitter":"iamsasivarnan","profileImageFile":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAf/EABYBAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABo53EtYiHIqLxOf/EABsQAAMBAQADAAAAAAAAAAAAAAECAwAREiIx/9oACAEBAAEFAnp4BaLTeozjqS+kd1qnJVlM6Fk//8QAFhEBAQEAAAAAAAAAAAAAAAAAEAER/9oACAEDAQE/AcIf/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EAB0QAAIBBAMAAAAAAAAAAAAAAAABEQIQITFBUWH/2gAIAQEABj8Ckxvp28Rqzp4MEuGf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARIUFRMZH/2gAIAQEAAT8hykYcNi0HYswDV1zF8EsrZ9mi0nkWekOCnUn/2gAMAwEAAgADAAAAEPfI/P/EABcRAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQMBAT8QKFeJjq7/xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAECAQE/EHUIJYNU/8QAHhAAAgICAgMAAAAAAAAAAAAAAREAITFxQVFhgaH/2gAIAQEAAT8QvNDVHPuEFJRH3zDInTdAmF5YBNLcQtiaE2BCBBWoJaNZE77iOVSNlRwOrJU//9k=","width":60,"height":60,"src":"/static/b684089c384f1eb06f30c4fa2d539019/c28c8/5305600.jpg","srcSet":"/static/b684089c384f1eb06f30c4fa2d539019/c28c8/5305600.jpg 1x,\n/static/b684089c384f1eb06f30c4fa2d539019/8bc16/5305600.jpg 1.5x,\n/static/b684089c384f1eb06f30c4fa2d539019/b2712/5305600.jpg 2x"}}},"website":"https://sasivarnan.github.io"}},"fields":{"slug":"/blog/draft-post-support-on-gatsby-blog/"}}},"pageContext":{"slug":"/blog/draft-post-support-on-gatsby-blog/","primaryTag":"gatsby","previous":"/blog/use-create-react-app-to-scaffold-next-react-app/","next":"/blog/git-share-uncommited-changes/"}}}